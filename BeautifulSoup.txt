# This program requires the BeautifulSoup library.
# You can install it with: pip install beautifulsoup4

import urllib.request, urllib.parse, urllib.error
from bs4 import BeautifulSoup
import ssl

# --- SSL Certificate Handling ---
# This part ignores SSL certificate errors, which can be useful
# for some HTTPS sites.
ctx = ssl.create_default_context()
ctx.check_hostname = False
ctx.verify_mode = ssl.CERT_NONE

# --- Main Program ---
# Prompt the user for a URL, with a default for the assignment
url = input('Enter URL: ')
if len(url) < 1:
    url = 'http://py4e-data.dr-chuck.net/comments_1550634.html'

try:
    print(f"Retrieving: {url}")
    # Open the URL and read the HTML content
    html = urllib.request.urlopen(url, context=ctx).read()
    # Parse the HTML with BeautifulSoup
    soup = BeautifulSoup(html, 'html.parser')

    # Initialize variables to store the count and sum
    count = 0
    total_sum = 0

    # Find all the <span> tags in the document
    tags = soup('span')
    for tag in tags:
        # The number is the content of the tag.
        # We convert it to an integer and add it to our sum.
        number = int(tag.contents[0])
        total_sum += number
        count += 1

    # Print the final results
    print(f"Count {count}")
    print(f"Sum {total_sum}")

except Exception as e:
    print(f"An error occurred while retrieving or parsing the URL: {e}")

Count 50
Sum 2553
Retrieving: http://py4e-data.dr-chuck.net/comments_1550634.html
Count 50
Sum 2546
